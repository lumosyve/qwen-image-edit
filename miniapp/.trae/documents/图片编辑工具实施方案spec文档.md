# 图片编辑工具实现方案

## 功能概述

基于Qwen/Qwen-Image-Edit-2509模型，实现一个图片编辑工具，支持：

1. 上传1-3张图片
2. 输入编辑prompt
3. 配置相关参数
4. 调用AI接口生成编辑后的图片
5. 展示并支持预览返回的图片

## 技术实现方案

### 1. 页面结构设计

* 创建新的图片编辑页面：`src/pages/imageEdit/imageEdit.vue`

* 在首页添加跳转到图片编辑页面的入口

* 更新`pages.json`添加新页面路由

### 2. UI界面设计

* 图片上传区域：支持上传1-3张图片

* Prompt输入框：支持中文输入，提供示例prompt

* 参数配置区域：

  * CFG值调节（0.1-20）

  * 推理步数调节（1-100）

  * 随机种子设置

* 生成按钮

* 结果展示区域：网格布局展示生成的图片，支持点击预览

### 3. 核心功能实现

* 图片上传处理：支持本地图片选择，转换为base64格式

* API调用：调用SiliconFlow的Qwen/Qwen-Image-Edit-2509接口

* 结果展示：展示返回的图片，支持点击放大预览

* 示例Prompt：提供图片美化类的示例prompt，点击自动填入输入框

### 4. 示例Prompt列表（按模式分组）

#### 人像模式
* "增强人像的皮肤质感和细节"
* "将人像转换为专业摄影风格"
* "为人像添加柔美的磨皮效果"
* "改善人像的光线和阴影平衡"
* "将人像背景虚化，突出主体"
* "为人像添加自然的美妆效果"

#### 处理模式
* "提升照片的清晰度和细节"
* "改善照片的光线和色彩平衡"
* "修复老照片的划痕和褪色"
* "去除照片中的噪点和颗粒感"
* "调整照片的对比度和饱和度"
* "校正照片的色偏问题"

#### 电影模式
* "为照片添加电影级调色效果"
* "将照片转换为复古胶片风格"
* "为照片添加赛博朋克霓虹效果"
* "将照片转换为黑白电影质感"
* "为照片添加史诗级电影氛围"
* "将照片转换为动漫电影风格"

#### 风景模式
* "将普通风景照转换为明信片风格"
* "增强风景照的色彩饱和度"
* "为风景照添加梦幻光晕效果"
* "将白天风景转换为夜景效果"
* "为风景照添加季节变化效果"
* "增强风景照的景深效果"

#### 创意模式
* "将照片转换为油画艺术风格"
* "将照片转换为水彩画效果"
* "将照片转换为素描线条风格"
* "为照片添加抽象艺术元素"
* "将照片转换为像素艺术风格"
* "为照片添加科幻未来感"

### 5. API参数配置

根据文档，Qwen/Qwen-Image-Edit-2509支持以下参数：

* `model`: "Qwen/Qwen-Image-Edit-2509" (固定)

* `prompt`: 用户输入的编辑指令

* `image`: 第一张图片(base64或URL)

* `image2`: 第二张图片(可选，base64或URL)

* `image3`: 第三张图片(可选，base64或URL)

* `cfg`: 控制生成效果与prompt匹配度(0.1-20)

* `num_inference_steps`: 推理步数(1-100)

* `seed`: 随机种子(0-9999999999)

### 6. 文件结构

```
src/
├── pages/
│   ├── index/
│   │   └── index.vue (修改添加入口)
│   └── imageEdit/
│       └── imageEdit.vue (新建)
├── components/
│   └── ImagePreview.vue (新建，用于图片预览)
├── utils/
│   └── api.js (新建，封装API调用)
└── static/
    └── (存放示例图片等静态资源)
```

## 实现步骤

1. 创建图片编辑页面组件
2. 实现图片上传功能
3. 实现Prompt输入和示例选择功能
4. 实现参数配置功能
5. 封装API调用函数
6. 实现结果展示和预览功能
7. 在首页添加跳转入口
8. 测试和优化

## 注意事项

* 需要用户配置SiliconFlow API Key

* 图片上传需要处理base64转换

* 需要处理API调用的错误情况

* 界面需要适配移动端显示